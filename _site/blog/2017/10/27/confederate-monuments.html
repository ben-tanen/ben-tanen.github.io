<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="alternate" type="application/rss+xml" title="Ben Tanen RSS" href="/feed.xml">
    <link rel="icon" type="image/png" href="/assets/img/favicon.ico">

    
    <link rel="stylesheet" href="/assets/css/main.style.css">
    

    
    <link rel="stylesheet" href="/assets/css/jBox.css">

    <!-- jquery and js files -->
    <script type="text/javascript" src="/assets/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/lib/d3.v4.min.js"></script>
    <script type="text/javascript" src="/assets/js/lib/topojson.v2.min.js"></script>
    <script type="text/javascript" src="/assets/js/lib/jBox.min.js"></script>
    <script type="text/javascript" src="/assets/js/main.js"></script>
    <script type="text/javascript" src="/assets/js/run-heroku.js"></script>

    <!-- adobe typekit -->
    <script src="https://use.typekit.net/jru4jkm.js"></script>
    <script>
    try {
        Typekit.load({
            async: true,
            active: function() {
                $('#side h1').css('opacity', 1);
                setTimeout(function() { $('#landing-header h1 span:nth-of-type(1)').css('opacity', 1);
                }, 300); 
                setTimeout(function() { $('#landing-header h1 span:nth-of-type(2)').css('opacity', 1);
                }, 900);
            },
            inactive: function() {
                $('#side h1').css('opacity', 1);
                setTimeout(function() { $('#landing-header h1 span:nth-of-type(1)').css('opacity', 1);
                }, 300); 
                setTimeout(function() { $('#landing-header h1 span:nth-of-type(2)').css('opacity', 1);
                }, 900);
            }
        });
    } catch(e){}
    </script>

    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Yantramanav:400,500,700" rel="stylesheet"> 

    <title>What Does the Public Think About Confederate Monuments? | Ben Tanen</title>
</head>


<body>
    <!-- adding support for mathjx -->
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
    <script type="text/javascript"
        src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <div class='wrapper'>
    	<div id='side'>
    <img id='face' src='/assets/img/me/face-f.png' alt='A picture of my head' />
    
    <h1 id="title-1" class="tk-europa">Howdy</h1>
    <h1 id="title-2" class="tk-europa">I'm Ben</h1>

    <div id='site-links' class="tk-europa">
        <p><a href='/'>Home</a></p>
        <p><a href='/projects/' >Projects</a></p>
        <p><a href='/resume/BenjaminTanen_Resume.pdf' >Resume</a></p>
        <p><a href='/blog/all/' >Blog</a></p>
    </div>

    <ul id="social-links">
    <li id="twitter" class="social-link">
        <a href="https://twitter.com/ben_tanen/" target="_blank">
            <svg viewBox="0 0 512 512">
                <circle cx="256" cy="256" r="239.5"/>
                <g fill="#FFFFFF">
                    <path d="M384.635,236.708c19.554-1.613,32.816-10.502,37.922-22.564c-7.055,4.333-28.952,9.057-41.044,4.558 c-0.593-2.841-1.255-5.541-1.903-7.977c-9.215-33.835-40.764-61.091-73.819-57.799c2.674-1.08,5.386-2.084,8.094-2.988 c3.638-1.303,24.987-4.777,21.625-12.312c-2.835-6.628-28.917,5.01-33.826,6.53c6.479-2.438,17.203-6.631,18.35-14.082 c-9.931,1.362-19.679,6.057-27.214,12.886c2.72-2.927,4.783-6.496,5.222-10.335c-26.493,16.924-41.967,51.042-54.488,84.139 c-9.834-9.53-18.549-17.034-26.369-21.202c-21.933-11.762-48.159-24.034-89.327-39.317c-1.264,13.621,6.736,31.731,29.789,43.774 c-4.995-0.668-14.128,0.824-21.432,2.573c2.975,15.604,12.69,28.461,38.99,34.677c-12.019,0.793-18.232,3.529-23.86,9.424 c5.474,10.852,18.832,23.625,42.863,21.002c-26.717,11.516-10.894,32.844,10.847,29.659 c-37.087,38.307-95.559,35.492-129.133,3.453c87.664,119.456,278.225,70.647,306.623-44.414 c21.273,0.184,33.784-7.368,41.539-15.693C411.823,242.782,394.057,240.632,384.635,236.708z"/>
                </g>
            </svg>
        </a>
    </li>

    <li id="github" class="social-link">
        <a href="https://github.com/ben-tanen/" target="_blank">
            <svg viewBox="0 0 512 512">
                <circle cx="256" cy="256" r="239.5"/>
                <g fill="#FFFFFF">
                    <path d="M373.573,231.878c1.11-7.021,1.803-14.719,1.977-23.351c-0.066-37.014-17.785-50.111-21.194-56.251 c5.021-28.044-0.831-40.801-3.554-45.168c-10.04-3.563-34.929,9.198-48.528,18.181c-22.173-6.491-69.031-5.857-86.603,1.68 c-32.422-23.216-49.57-19.676-49.57-19.676s-11.086,19.879-2.931,48.962c-10.667,13.594-18.619,23.205-18.619,48.698 c0,6.106,0.379,11.875,1.023,17.425c9.187,48.304,47.462,69.144,85.059,72.737c-5.657,4.299-12.45,12.434-13.39,21.861 c-7.108,4.596-21.408,6.115-32.528,2.619c-15.58-4.924-21.545-35.777-44.877-31.375c-5.048,0.945-4.045,4.273,0.327,7.113 c7.108,4.609,13.803,10.342,18.963,22.605c3.963,9.416,12.299,26.229,38.655,26.229c10.462,0,17.791-1.236,17.791-1.236 s0.2,23.994,0.2,33.352c0,10.77-14.534,13.793-14.534,18.959c0,2.057,4.811,2.25,8.677,2.25c7.64,0,23.536-6.363,23.536-17.557 c0-8.895,0.142-38.785,0.142-44.02c0-11.438,6.13-15.078,6.13-15.078s0.75,61.055-1.476,69.24 c-2.609,9.625-7.336,8.258-7.336,12.541c0,6.395,19.11,1.564,25.449-12.43c4.904-10.93,2.707-70.803,2.707-70.803l5.113-0.111 c0,0,0.059,27.422-0.117,39.947c-0.186,12.977-1.523,29.379,6.184,37.121c5.059,5.092,20.555,14.027,20.555,5.861 c0-4.732-10.852-8.641-10.852-21.461v-59.057c6.593,0,7.955,19.412,7.955,19.412l2.377,36.064c0,0-1.578,13.16,14.217,18.652 c5.575,1.953,17.504,2.484,18.062-0.793c0.561-3.287-14.362-8.146-14.504-18.332c-0.078-6.203,0.277-9.834,0.277-36.818 c0-26.969-3.623-36.945-16.247-44.896C328.697,291.219,366.724,274.869,373.573,231.878z"/>
                </g>
            </svg>
        </a>
    </li>

    <li id="lastfm" class="social-link">
        <a href="https://www.last.fm/user/ben-tanen" target="_blank">
            <svg viewBox="0 0 512 512">
                <circle cx="256" cy="256" r="239.5"/>
                <g fill="#FFFFFF">
                    <path d="M222.188,296.969c-6.664,5.982-19.463,17.961-40.772,17.961c-25.132,0-49.344-22.029-49.344-57.277 c0-45.163,28.943-59.729,51.163-59.729c32.053,0,39.071,19.339,47.809,46.145l11.663,36.721 c11.651,35.614,33.507,64.244,96.521,64.244c45.169,0,75.763-13.945,75.763-50.66c0-29.744-16.761-45.163-48.083-52.511 l-23.309-5.136c-16.027-3.672-20.762-10.283-20.762-21.302c0-12.483,9.833-19.822,25.863-19.822 c17.482,0,26.955,6.609,28.416,22.396l36.418-4.405c-2.917-33.047-25.499-46.628-62.65-46.628 c-32.779,0-64.832,12.484-64.832,52.504c0,24.968,12.018,40.752,42.242,48.102l24.776,5.869 c18.575,4.41,24.76,12.121,24.76,22.771c0,13.58-13.11,19.087-37.876,19.087c-36.786,0-55.263-19.46-64.009-46.265l-12.022-36.712 c-15.287-47.731-33.336-65.357-81.78-65.357c-43.198,0-85.133,34.145-85.133,92.153c0,55.812,40.262,85.915,82.582,85.915 c30.605,0,46.152-10.756,53.739-16.271L222.188,296.969z"/>
                </g>
            </svg>
        </a>
    </li>

    <li id="linkedin" class="social-link">
        <a href="https://www.linkedin.com/in/bentanen/" target="_blank">
            <svg viewBox="0 0 512 512">
                <circle cx="256" cy="256" r="239.5"/>
                <g fill="#FFFFFF">
                    <path d="M390.005,284.965v99.085h-57.443v-92.449c0-23.224-8.308-39.072-29.101-39.072 c-15.873,0-25.318,10.68-29.475,21.013c-1.515,3.693-1.905,8.835-1.905,14.006v96.503h-57.462c0,0,0.774-156.578,0-172.8h57.457 v24.493c-0.117,0.183-0.269,0.381-0.378,0.559h0.378v-0.559c7.634-11.757,21.267-28.553,51.782-28.553 C361.663,207.189,390.005,231.887,390.005,284.965z M154.511,127.951c-19.658,0-32.516,12.894-32.516,29.85 c0,16.586,12.486,29.872,31.753,29.872h0.384c20.039,0,32.501-13.283,32.501-29.872 C186.255,140.845,174.171,127.951,154.511,127.951z M125.407,384.05h57.441v-172.8h-57.441V384.05z"/>
                </g>
            </svg>
        </a>
    </li>

    <li id="email" class="social-link">
        <a href="mailto:ben.tanen@gmail.com" target="_blank">
            <svg viewBox="0 0 512 512">
                <circle cx="256" cy="256" r="239.5"/>
                <g fill="#FFFFFF">
                    <path d="M256,298.711l-36.988-32.373l-105.753,90.654c3.844,3.565,9.033,5.787,14.757,5.787h255.969 c5.703,0,10.871-2.222,14.693-5.787l-105.689-90.654L256,298.711z"/>
                    <path d="M398.742,155.01c-3.846-3.588-9.012-5.788-14.758-5.788H128.016c-5.703,0-10.87,2.222-14.714,5.83 L256,277.355L398.742,155.01z"/>
                    <polygon points="106.51,167.972 106.51,345.396 209.723,257.688"/>
                    <polygon points="302.277,257.688 405.49,345.396 405.49,167.908"/>
                </g>
            </svg>
        </a>
    </li>
</ul>
</div>

    	<div class='main'>
    		<div class="post">

    <header class="post-header">
        <h1>What Does the Public Think About Confederate Monuments?</h1>
        <p class="post-date">Oct 27 2017
        <!--
        <p class="post-meta">Oct 27 2017 <span class="post-tag">data</span><span class="post-tag">art</span><span class="post-tag">project</span></p>
        -->
    </header>

    <article class="post-content">
    <p>I recently came across <a href="http://kut.org/post/uttt-poll-most-texas-voters-say-confederate-memorials-shouldn-t-move-0">an article</a> from KUT, Austin’s NPR station, about Confederate statues with the following news graphic:</p>

<p class="fig-paragraph">
    <a class="fig-link" href="/assets/img/posts/confederate-monuments-poll.jpg" target="_blank">
    <img src="/assets/img/posts/confederate-monuments-poll.jpg" alt="The original graphic on Confederate statues" width="550" />
    </a>
</p>

<p>The contents of the graphic and the results of the poll were interesting, but more than anything, I was intrigued by their choice of chart type. On my first viewing, it took me a second to mentally reconcile what exactly was going on. What were all the bars? Why all the colors? I then noticed the clustering and realized it was not just any bar chart, but instead a clustered <em>and</em> stacked bar chart. It’s now clear they wanted to emphasize the contrast between the “move or remove” responses and the “leave them” responses, but with so many bars and mixed colors, I found myself lost in comparisons.</p>

<!-- more -->

<p>In an effort to think about how I would tweak this chart, I immediately jumped to the idea of using a 100% stacked bar chart. I quickly threw one together (see below) but it still just didn’t seem right. In this styling, I think the groupings (Republican vs. Independent vs. Democrat) becomes a little more clear, but this chart lost the contrast between the “move or remove” and “leave” responses that was present in the original graphic. Ultimately, I don’t think this was much of an improvement and was actually more of a step back.</p>

<p class="fig-paragraph">
    <a class="fig-link" href="/assets/img/posts/confederate-monuments-remake.png" target="_blank">
    <img src="/assets/img/posts/confederate-monuments-remake.png" alt="A quick remake of the Confederate statue graphic" width="550" />
    </a>
</p>

<p>While the 100% stacked bar chart wasn’t exactly what I was looking for, it did remind me of <a href="http://www.visualisingdata.com/2016/08/little-visualisation-design-part-21/">an article</a> from Andy Kirk and his <a href="http://www.visualisingdata.com/2016/03/little-visualisation-design/">“little of visualization design” series</a>. In the post, Kirk talked about improving <a href="http://mannmetrics.com/who-lies-more/">a 100% stacked bar chart on lies in politics</a> by turning it into <a href="https://peltiertech.com/diverging-stacked-bar-charts/">a diverging stacked bar chart</a>. Kirk said that this change would help emphasize the polarity in the chart and I knew this was exactly what I was looking to do for the KUT chart. So I took a whack at remake #2, leading to the diverging bar chart below, which I think is a winner, or, at the very least, an improvement.</p>

<svg id="d3-confederate-poll">
</svg>

<p>At the end of the day, this was all mostly just an exercise for myself. KUT did a good job with their chart and more importantly with using their chart as one of many parts to tell an interesting story. Data visualization is hard and a lot of it ends up being very subjective on what works and what doesn’t. To some, KUT’s original chart may be better than my remake. I simply wanted to use this as a chance to work on my own design skills. If you have any thoughts or ideas on improvements or changes, I’d love to hear!</p>

<style>
#d3-confederate-poll {
    width: 100%;
    height: 290px;
}

text.pct-label {
    fill: #36393a;
    font-size: 10px;
    text-anchor: middle;
}

rect.legend {
    width: 15px;
    height: 15px;
}

.remove    { fill: #e95946; }
.move      { fill: #42b0a1; }
.leave-add { fill: #f9a545; }
.leave     { fill: #a6a6a6; }

</style>

<script>
var confederate_svg = d3.select("#d3-confederate-poll");

var margin = {top: 100, right: 15, bottom: 75, left: 15, bar: 8},
    width  = $('#d3-confederate-poll').width() -  margin.left - margin.right,
    height = $('#d3-confederate-poll').height() - margin.top - margin.bottom;

var scale = d3.scaleLinear().range([0, width]).domain([-1,1]).nice();

var data = [ ];

d3.csv("/assets/data/kut-poll-data.csv", function(d) {
    d.leave = +d.leave;
    d.leave_add = +d.leave_add;
    d.remove = +d.remove;
    d.move = +d.move;
    d.unsure = +d.unsure;
    return d;
}, function(error, d) {
    for (var i = 0; i < d.length; i++) data.push(d[i]);

    bar_size = (height - (margin.bar * (data.length - 1))) / data.length;

    for (var i = 0; i < data.length; i++) {
        render_bar(data, i);
    }

    render_axes();
    render_text();
});

// make chart resizable
$(window).resize(function() {
    width  = $('#d3-confederate-poll').width() -  margin.left - margin.right;

    scale.range([0, width]);

    d3.selectAll('text').remove();
    d3.selectAll('rect').remove();
    d3.selectAll('line').remove();
    d3.select('#x-axis').remove();

    for (var i = 0; i < data.length; i++) {
        render_bar(data, i);
    }

    render_axes();
    render_text();
});

function render_bar(data, i) {
    confederate_svg.append('rect')
        .attr('class', 'bar leave-add')
        .attr('width', scale(data[i].leave_add) - scale(0))
        .attr('height', bar_size)
        .attr('x', margin.left + scale(0))
        .attr('y', margin.top + bar_size * i + margin.bar * i + (i > 0 ? margin.bar : 0));

    if (scale(data[i].leave_add) - scale(0) > 25) {
        confederate_svg.append('text')
            .attr('class', 'text pct-label')
            .attr('x', margin.left + scale(0) + (scale(data[i].leave_add) - scale(0)) / 2)
            .attr('y', margin.top + bar_size * (i + 0.65) + margin.bar * i + (i > 0 ? margin.bar : 0))
            .text((data[i].leave_add * 100).toFixed(0) + "%");
    }

    confederate_svg.append('rect')
        .attr('class', 'bar leave')
        .attr('width', scale(data[i].leave) - scale(0))
        .attr('height', bar_size)
        .attr('x', margin.left + scale(data[i].leave_add))
        .attr('y', margin.top + bar_size * i + margin.bar * i + (i > 0 ? margin.bar : 0));

    if (scale(data[i].leave) - scale(0) > 25) {
        confederate_svg.append('text')
            .attr('class', 'pct-label')
            .attr('x', margin.left + scale(data[i].leave_add) + (scale(data[i].leave) - scale(0)) / 2)
            .attr('y', margin.top + bar_size * (i + 0.65) + margin.bar * i + (i > 0 ? margin.bar : 0))
            .text((data[i].leave * 100).toFixed(0) + "%");
    }

    confederate_svg.append('rect')
        .attr('class', 'bar remove')
        .attr('width', scale(data[i].remove) - scale(0))
        .attr('height', bar_size)
        .attr('x', margin.left + scale(-data[i].remove - data[i].move))
        .attr('y', margin.top + bar_size * i + margin.bar * i + (i > 0 ? margin.bar : 0));

    if (scale(data[i].remove) - scale(0) > 25) {
        confederate_svg.append('text')
            .attr('class', 'pct-label')
            .attr('x', margin.left + scale(-data[i].remove - data[i].move) + (scale(data[i].remove) - scale(0)) / 2)
            .attr('y', margin.top + bar_size * (i + 0.65) + margin.bar * i + (i > 0 ? margin.bar : 0))
            .text((data[i].remove * 100).toFixed(0) + "%");
    }

    confederate_svg.append('rect')
        .attr('class', 'bar move')
        .attr('width', scale(data[i].move) - scale(0))
        .attr('height', bar_size)
        .attr('x', margin.left + scale(-data[i].move))
        .attr('y', margin.top + bar_size * i + margin.bar * i + (i > 0 ? margin.bar : 0));

    if (scale(data[i].move) - scale(0) > 25) {
        confederate_svg.append('text')
            .attr('class', 'text pct-label')
            .attr('x', margin.left + scale(-data[i].move) + (scale(data[i].move) - scale(0)) / 2)
            .attr('y', margin.top + bar_size * (i + 0.65) + margin.bar * i + (i > 0 ? margin.bar : 0))
            .text((data[i].move * 100).toFixed(0) + "%");
    }

    confederate_svg.append('text')
        .attr('class', 'text label')
        .attr('x', margin.left + scale(-data[i].remove - data[i].move) - 7)
        .attr('y', margin.top + bar_size * (i + 0.6) + margin.bar * i + (i > 0 ? margin.bar : 0))
        .style('font-size', '11.5px')
        .style('text-anchor', 'end')
        .text(clean_group_name(data[i].group));
}

function render_axes() {
    confederate_svg.append('line')
        .attr('id', 'midline')
        .attr('x1', margin.left + scale(0) + 0.5)
        .attr('x2', margin.left + scale(0) + 0.5)
        .attr('y1', margin.top)
        .attr('y2', margin.top + height + margin.bar * 2)
        .attr('stroke', 'black');

    confederate_svg.append('line')
        .attr('id', 'breakline')
        .attr('x1', margin.left)
        .attr('x2', margin.left + width)
        .attr('y1', margin.top + bar_size + margin.bar)
        .attr('y2', margin.top + bar_size + margin.bar)
        .attr('stroke', 'black')
        .attr('stroke-width', 0.75)
        .attr('stroke-dasharray', '5, 5');

    confederate_svg.append("g")
        .attr("id","x-axis")
        .attr("transform", `translate(${margin.left}, ${margin.top + height + margin.bar * 2})`)
        .call(d3.axisBottom(scale).ticks(5).tickFormat(function (d) { 
            if (d < 0) d = -d; // No nagative labels
            return d3.format(".0%")(d);
        }));
}

function render_text() {
    if (width <= 450) {
        confederate_svg.append("text")
            .attr('id', 'title1')
            .attr('id', 'title2')
            .attr("transform", `translate(${margin.left + width / 2}, 16)`)
            .style('font-size', '16px')
            .style('text-anchor', 'middle')
            .style('font-weight', 'bold')
            .text("What to do with");

        confederate_svg.append("text")
            .attr('id', 'title1')
            .attr('id', 'title2')
            .attr("transform", `translate(${margin.left + width / 2}, 32)`)
            .style('font-size', '16px')
            .style('text-anchor', 'middle')
            .style('font-weight', 'bold')
            .text("Confederate monuments?");
    } else {
        confederate_svg.append("text")
            .attr('id', 'title')
            .attr("transform", `translate(${margin.left + width / 2}, 27.5)`)
            .style('font-size', '18px')
            .style('text-anchor', 'middle')
            .style('font-weight', 'bold')
            .text("What to do with Confederate monuments?");
    }

    /* legend */
    confederate_svg.append("rect")
        .attr('class', 'legend remove')
        .attr("x", margin.left + width / 2 - 20)
        .attr("y", 42.5);

    confederate_svg.append("text")
        .attr("transform", `translate(${margin.left + width / 2 - 25}, 55)`)
        .style('font-size', '12px')
        .style('text-anchor', 'end')
        .text("Remove them");

    confederate_svg.append("rect")
        .attr('class', 'legend move')
        .attr("x", margin.left + width / 2 - 20)
        .attr("y", 67.5);

    confederate_svg.append("text")
        .attr("transform", `translate(${margin.left + width / 2 - 25}, 80)`)
        .style('font-size', '12px')
        .style('text-anchor', 'end')
        .text("Move to museums");

    confederate_svg.append("rect")
        .attr('class', 'legend leave-add')
        .attr("x", margin.left + width / 2 + 5)
        .attr("y", 67.5);

    confederate_svg.append("text")
        .attr("transform", `translate(${margin.left + width / 2 + 25}, 80)`)
        .style('font-size', '12px')
        .style('text-anchor', 'start')
        .text(`${width <= 300 ? "A" : "Leave them, a"}dd ${width <= 400 ? " " : "historical "}context`);

    confederate_svg.append("rect")
        .attr('class', 'legend leave')
        .attr("x", margin.left + width / 2 + 5)
        .attr("y", 42.5);

    confederate_svg.append("text")
        .attr("transform", `translate(${margin.left + width / 2 + 25}, 55)`)
        .style('font-size', '12px')
        .style('text-anchor', 'start')
        .text("Leave them as is");

    /* source */
    confederate_svg.append("text")
        .attr("transform", `translate(${margin.left + width}, ${margin.top + height + 55})`)
        .style('font-size', '11px')
        .style('text-anchor', 'end')
        .style('fill', '#989c9e')
        .text("Source: UT/TT Poll, KUT 90.5");
}

function clean_group_name(group) {
    if (width <= 450) {
        if (group == "independents") return "Indep.";
        else if (group == "all") return "All";
        else return group[0].toUpperCase() + group.substring(1,3) + ".";
    }
    else {
        return group[0].toUpperCase() + group.substring(1,group.length);
    }
}
</script>


    </article>

    <div class='pagination'>
        
        <p id='pagination-previous'><a href='/blog/2017/12/26/fantasy-football-retrospective.html'>&#8592; Newer Post</a></p>
        

        <p id="pagination-all"><a href="/blog/all/">View All Posts</a></p>

        
        <p id='pagination-next'><a href='/blog/2017/10/17/partisanship-in-football.html'>Older Post &#8594;</a></p>
        
    </div>

</div>
    	</div>
    </div>
	
</body>
</html>